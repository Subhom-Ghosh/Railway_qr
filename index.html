<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Railway Fittings QR Generator</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  </head>
  <body>
    <div class="container">
      <h1 id="title">QR Code Generator for Track Fittings</h1>

      <div class="toggle-bar">
        <button id="darkToggle">🌙 Dark Mode</button>

        <button id="resetType">🔄 New Entry</button>
      </div>

      <form
        id="qrForm"
        action="https://sheetdb.io/api/v1/0mhx24t0s867z"
        method="post"
      >
        <fieldset>
          <legend>Fitting Details</legend>
          <select id="type" name="data[Type]">
            <option value="" disabled selected>-- Select Type --</option>
            <option value="Rail clips">Rail clips</option>
            <option value="Rail liners">Rail liners</option>
            <option value="Fish Plates">Fish Plates</option>
            <option value="Rail Anchors">Rail Anchors</option>
            <option value="Rail Dowels">Rail Dowels</option>
          </select>
          <input
            type="text"
            id="qr_id"
            placeholder="QR ID"
            name="data[QR_ID]"
            readonly
          />
        </fieldset>

        <fieldset>
          <legend>Vendor Info</legend>
          <input
            list="vendors"
            id="vendor"
            name="data[Vendor]"
            placeholder="Select or type vendor"
            required
          />
          <datalist id="vendors">
            <option value="Patil Group"></option>
            <option value="Utkarsh India"></option>
            <option value="Raybon Metals Pvt. Ltd."></option>
            <option value="Rahee Industries Ltd."></option>
            <option value="Chandra Industrial Works"></option>
            <option value="Jekay International Track Pvt. Ltd."></option>
            <option value="Precision Drawell Pvt. Ltd."></option>
            <option value="Nirmal Wires (P) Ltd."></option>
            <option value="Other"></option>
          </datalist>

          <input
            type="text"
            id="batch"
            name="data[Batch]"
            placeholder="Enter Batch No"
            required
          />
          <input
            type="date"
            id="supply_date"
            name="data[Supply_Date]"
            readonly
          />
          <input
            type="number"
            id="warranty"
            name="data[Warranty]"
            placeholder="Warranty (Years)"
            required
          />
        </fieldset>
        <button type="submit">Generate QR Code</button>
      </form>

      <div id="qrcode"></div>
      <div id="print-btn">🖨️ Print QR</div>
      <div id="aiResult"></div>
      <div id="toast" class="toast"></div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
